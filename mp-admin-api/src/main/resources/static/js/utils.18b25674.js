(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["utils"],{"1a05":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row-content am-cf"},[s("div",{staticClass:"row"},[s("div",{staticClass:"am-u-sm-12 am-u-md-12 am-u-lg-12"},[s("div",{staticClass:"widget am-cf"},[s("div",{staticClass:"am-g am-cf"},[s("el-form",{ref:"skuForm",staticClass:"am-form am-u-sm-11 tpl-form-line-form",attrs:{model:t.skuForm,rules:t.rules,"label-width":"200px"}},[s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("基本信息")])]),s("el-form-item",{attrs:{label:"商品名称",prop:"skuName"}},[s("el-input",{staticClass:"tpl-form-input",model:{value:t.skuForm.skuName,callback:function(e){t.$set(t.skuForm,"skuName",e)},expression:"skuForm.skuName"}})],1),s("el-form-item",{attrs:{label:"商品价格",prop:"skuPrice"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.skuPrice,callback:function(e){t.$set(t.skuForm,"skuPrice",t._n(e))},expression:"skuForm.skuPrice"}})],1),s("el-form-item",{attrs:{label:"消费次数",prop:"frequency"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.frequency,callback:function(e){t.$set(t.skuForm,"frequency",t._n(e))},expression:"skuForm.frequency"}})],1),s("el-form-item",{attrs:{label:"商品分类",prop:"catagory"}},[s("el-select",{model:{value:t.skuForm.catagory,callback:function(e){t.$set(t.skuForm,"catagory",e)},expression:"skuForm.catagory"}},t._l(t.catagoryOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("商品详情")])]),s("el-form-item",{attrs:{label:"商品详情",prop:"skuContent"}},[s("editor",{attrs:{id:"skuContent",height:"690px",width:"350px",content:t.skuForm.skuContent,uploadJson:t.website.uploadKindUrl,pluginsPath:"/static/kindeditor/plugins/",loadStyleMode:!1,items:t.kinditems,formatUploadUrl:!1},on:{"on-content-change":t.onSkuContentChange}})],1),s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("其他")])]),s("el-form-item",{attrs:{label:"商品状态",prop:"skuStatus"}},[s("el-select",{model:{value:t.skuForm.skuStatus,callback:function(e){t.$set(t.skuForm,"skuStatus",e)},expression:"skuForm.skuStatus"}},t._l(t.skuStatusOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),s("el-form-item",{attrs:{label:"有效期（月数）",prop:"validMonth"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.validMonth,callback:function(e){t.$set(t.skuForm,"validMonth",t._n(e))},expression:"skuForm.validMonth"}})],1),s("el-form-item",{attrs:{label:"排序",prop:"sort"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.sort,callback:function(e){t.$set(t.skuForm,"sort",t._n(e))},expression:"skuForm.sort"}}),s("small",[t._v("数字越小越靠前")])],1)],1),s("div",{staticClass:"am-form-group"},[s("div",{staticClass:"am-u-sm-12 am-u-sm-push-6 am-margin-top-lg"},[s("button",{staticClass:"j-submit am-btn am-btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.saveForm("skuForm")}}},[t._v("保存\n                            ")])])])],1)])])])])},r=[],u=s("cebc"),o=s("2f61"),i=s("fab9"),n=s("5880"),l={created:function(){var t=this.$route.query.skuId;t&&this.handleGetSku(t)},data:function(){return{catagoryOptions:Object(i["b"])("catagory"),skuStatusOptions:Object(i["b"])("sku_status"),skuForm:{frequency:1,catagory:"1",skuName:"",skuContent:"",skuPrice:"",sort:100,skuStatus:"1",validMonth:36},rules:{catalog:[{required:!0,message:"请输入商品分类",trigger:"blur"}],frequency:[{required:!0,message:"请输入次数",trigger:"blur"},{type:"number",message:"次数必须为数字值"}],validMonth:[{required:!0,message:"请输入有效期（月数）",trigger:"blur"},{type:"number",message:"有效期必须为数字值"}],skuName:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 30 个字符",trigger:"blur"}],skuContent:[{required:!0,message:"请录入商品详情",trigger:"blur"}],skuPrice:[{required:!0,message:"请录入商品价格",trigger:"blur"}]}}},methods:{handleGetSku:function(t){var e=this;Object(o["b"])(t).then(function(t){var s=t.data.data;s.skuId="",delete s.skuId,e.skuForm=s,console.log(e.skuForm)})},onSkuContentChange:function(t){this.skuForm.skuContent=t},saveForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&Object(o["d"])(e.skuForm).then(function(t){console.log(t),t.data.data?(e.$notify({title:"成功",duration:2e3,message:"保存成功",type:"success"}),e.$router.push({path:"/sku/index"})):e.$notify({title:"操作失败",showClose:!0,message:"保存失败",type:"error"})})})},resetForm:function(t){this.$refs[t].resetFields()},uploadMainUrlSuccess:function(t){this.skuForm.mainUrl=t.data}},computed:Object(u["a"])({},Object(n["mapGetters"])(["website"]),{kinditems:function(){return["source","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","clearhtml","quickformat","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","table","hr"]}})},m=l,c=(s("43de"),s("2877")),d=Object(c["a"])(m,a,r,!1,null,null,null);e["default"]=d.exports},"2f61":function(t,e,s){"use strict";s.d(e,"c",function(){return r}),s.d(e,"b",function(){return u}),s.d(e,"a",function(){return o}),s.d(e,"e",function(){return i}),s.d(e,"d",function(){return n});var a=s("b5c6"),r=function(t){return Object(a["a"])({url:"/api/sku/getSkuList",method:"get",params:t})},u=function(t){return Object(a["a"])({url:"/api/sku/getSku",method:"get",params:{id:t}})},o=function(t){return Object(a["a"])({url:"/api/sku/deleteSku",method:"delete",params:{id:t}})},i=function(t){return Object(a["a"])({url:"/api/sku/updateSku",method:"put",data:t})},n=function(t){return Object(a["a"])({url:"/api/sku/insertSku",method:"post",data:t})}},"33c3":function(t,e,s){},"43de":function(t,e,s){"use strict";var a=s("6a00"),r=s.n(a);r.a},"6a00":function(t,e,s){},"7a27":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row-content am-cf"},[s("div",{staticClass:"row"},[s("div",{staticClass:"am-u-sm-12 am-u-md-12 am-u-lg-12"},[s("div",{staticClass:"widget am-cf"},[s("div",{staticClass:"am-g am-cf"},[s("el-form",{ref:"skuForm",staticClass:"am-form am-u-sm-11 tpl-form-line-form",attrs:{model:t.skuForm,rules:t.rules,"label-width":"200px"}},[s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("基本信息")])]),s("el-form-item",{attrs:{label:"商品名称",prop:"skuName"}},[s("el-input",{staticClass:"tpl-form-input",model:{value:t.skuForm.skuName,callback:function(e){t.$set(t.skuForm,"skuName",e)},expression:"skuForm.skuName"}})],1),s("el-form-item",{attrs:{label:"商品价格",prop:"skuPrice"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.skuPrice,callback:function(e){t.$set(t.skuForm,"skuPrice",t._n(e))},expression:"skuForm.skuPrice"}})],1),s("el-form-item",{attrs:{label:"消费次数",prop:"frequency"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.frequency,callback:function(e){t.$set(t.skuForm,"frequency",t._n(e))},expression:"skuForm.frequency"}})],1),s("el-form-item",{attrs:{label:"商品分类",prop:"catagory"}},[s("el-select",{model:{value:t.skuForm.catagory,callback:function(e){t.$set(t.skuForm,"catagory",e)},expression:"skuForm.catagory"}},t._l(t.catagoryOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("商品详情")])]),s("el-form-item",{attrs:{label:"商品详情",prop:"skuContent"}},[s("editor",{attrs:{id:"skuContent",height:"690px",width:"350px",content:t.skuForm.skuContent,uploadJson:t.website.uploadKindUrl,pluginsPath:"/static/kindeditor/plugins/",loadStyleMode:!1,items:t.kinditems,formatUploadUrl:!1},on:{"on-content-change":t.onSkuContentChange}})],1),s("div",{staticClass:"widget-head am-cf"},[s("div",{staticClass:"widget-title am-fl"},[t._v("其他")])]),s("el-form-item",{attrs:{label:"商品状态",prop:"skuStatus"}},[s("el-select",{model:{value:t.skuForm.skuStatus,callback:function(e){t.$set(t.skuForm,"skuStatus",e)},expression:"skuForm.skuStatus"}},t._l(t.skuStatusOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),s("el-form-item",{attrs:{label:"有效期（月数）",prop:"validMonth"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.validMonth,callback:function(e){t.$set(t.skuForm,"validMonth",t._n(e))},expression:"skuForm.validMonth"}})],1),s("el-form-item",{attrs:{label:"排序",prop:"sort"}},[s("el-input",{staticClass:"tpl-form-input",attrs:{type:"number"},model:{value:t.skuForm.sort,callback:function(e){t.$set(t.skuForm,"sort",t._n(e))},expression:"skuForm.sort"}}),s("small",[t._v("数字越小越靠前")])],1),s("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[t._v("\n                           "+t._s(t._f("moment")(t.skuForm.createTime,"YYYY-MM-DD HH:mm:ss"))+"\n                        ")])],1),s("div",{staticClass:"am-form-group"},[s("div",{staticClass:"am-u-sm-12 am-u-sm-push-6 am-margin-top-lg"},[s("button",{staticClass:"j-submit am-btn am-btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.saveForm("skuForm")}}},[t._v("保存\n                            ")])])])],1)])])])])},r=[],u=s("cebc"),o=s("2f61"),i=s("fab9"),n=s("5880"),l={created:function(){this.skuForm.skuId=this.$route.params.skuId,this.handleGetSku()},data:function(){return{catagoryOptions:Object(i["b"])("catagory"),skuStatusOptions:Object(i["b"])("sku_status"),skuForm:{frequency:"",catagory:"",skuName:"",skuContent:"",skuPrice:"",sort:"",skuStatus:"",validMonth:""},other:{minusNum:0},rules:{catalog:[{required:!0,message:"请输入商品分类",trigger:"blur"}],frequency:[{required:!0,message:"请输入次数",trigger:"blur"},{type:"number",message:"次数必须为数字值"}],validMonth:[{required:!0,message:"请输入有效期（月数）",trigger:"blur"},{type:"number",message:"有效期必须为数字值"}],skuName:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 30 个字符",trigger:"blur"}],skuContent:[{required:!0,message:"请录入商品详情",trigger:"blur"}],skuPrice:[{required:!0,message:"请录入商品价格",trigger:"blur"}]}}},methods:{handleGetSku:function(){var t=this;Object(o["b"])(this.skuForm.skuId).then(function(e){t.skuForm=e.data.data})},onSkuContentChange:function(t){this.skuForm.skuContent=t},saveForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&Object(o["e"])(e.skuForm).then(function(t){console.log(t),t.data.data?(e.$notify({title:"成功",duration:2e3,message:"保存成功",type:"success"}),e.$router.push({path:"/sku/index"})):e.$notify({title:"操作失败",showClose:!0,message:"保存失败",type:"error"})})})},resetForm:function(t){this.$refs[t].resetFields()},uploadMainUrlSuccess:function(t){this.skuForm.mainUrl=t.data}},computed:Object(u["a"])({},Object(n["mapGetters"])(["website"]),{kinditems:function(){return["source","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","clearhtml","quickformat","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","table","hr"]}})},m=l,c=(s("9277"),s("2877")),d=Object(c["a"])(m,a,r,!1,null,null,null);e["default"]=d.exports},9277:function(t,e,s){"use strict";var a=s("33c3"),r=s.n(a);r.a},a07c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("basic-container",[s("el-tag",[t._v("菜单中还是父类高亮，参考mock/menu.js里的group配置")]),s("el-tag",{attrs:{type:"success"}},[t._v("动态路由接受参数"+t._s(t.$route.params))])],1),s("basic-container",[s("el-button",{attrs:{type:"primary"},on:{click:t.breaks}},[t._v("关闭返回列表")])],1)],1)},r=[],u={methods:{breaks:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/advanced-router/mutative-router"})}}},o=u,i=s("2877"),n=Object(i["a"])(o,a,r,!1,null,null,null);e["default"]=n.exports},ba12:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("basic-container",[s("el-tag",[t._v("菜单中还是父类高亮，参考mock/menu.js里的group配置")]),s("el-tag",{attrs:{type:"success"}},[t._v("参数路由接受参数"+t._s(t.$route.query))])],1),s("basic-container",[s("el-button",{attrs:{type:"primary"},on:{click:t.breaks}},[t._v("关闭返回列表")])],1)],1)},r=[],u={methods:{breaks:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/advanced-router/argument-page"})}}},o=u,i=s("2877"),n=Object(i["a"])(o,a,r,!1,null,null,null);e["default"]=n.exports}}]);